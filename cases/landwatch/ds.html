<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LandWatch</title>
    <link rel="stylesheet" href="style.css"> 
    <script src="../../log.js"></script>
</head>
<body>
    <header>
        <div class="logo">LandWatch</div>
        <div class="search-bar">
            <input type="text" placeholder="Enter a City, County, State, or ID">
            <button>Search</button>
        </div>
        <button class="save-search">Save Search</button>
    </header>

    <div class="container">
        <aside class="sidebar">
            <div class="filter">
                <h3>Map</h3>
                <img src="map.png" alt="Region Map" style="width:100%">
            </div>
            <div class="filter">
                <h3>Region</h3>
                <p>Northeast Region (899)</p>
            </div>
            <div class="filter">
                <h3>Activities</h3>
                <p>Undeveloped</p>
            </div>
        </aside>

        <main class="content">
            <div class="item">
                <img src="land1.webp" alt="Image 1">
                <div class="item-details">
                    <div>
                        <div class="price">$1,150,000 â€¢ 0 Acres</div>
                        <h3>Jackson Township, OH, Brown County</h3>
                        <p>D. Craig Wilson â€“ Wilson Realtors</p>
                    </div>
                    <button class="contact-btn" 
    onclick="openModal('D. Craig Wilson', 'Wilson Realtors')">Contact Seller</button>

                </div>
            </div>

            <div class="item">
                <img src="land2.webp" alt="Image 2">
                <div class="item-details">
                    <div>
                        <div class="price">$135,000 â€¢ 0 Acres</div>
                        <h3>Jackson Township, OH, Brown County</h3>
                        <p>D. Craig Wilson â€“ Wilson Realtors</p>
                    </div>
                    <button class="contact-btn" 
    onclick="openModal('D. Craig Wilson', 'Wilson Realtors')">Contact Seller</button>

                </div>
            </div>

            <div class="item">
                <img src="land3.webp" alt="Image 2">
                <div class="item-details">
                    <div>
                        <div class="price">$49,000 â€¢ 0 Acres</div>
                        <h3>J2592 Riverside Drive, Cincinnati, OH, 45202, Hamilton County</h3>
                        <p>Jim Schack Wilson â€“ Wilson Realtors</p>
                    </div>
                    <button class="contact-btn" 
    onclick="openModal('Jim Schack Wilson', 'Wilson Realtors')">Contact Seller</button>

                </div>
            </div>

            <div class="item">
                <img src="land4.webp" alt="Image 2">
                <div class="item-details">
                    <div>
                        <div class="price">$15,000 â€¢ 0 Acres</div>
                        <h3>Jackson Township, OH, Brown County</h3>
                        <p>D. Craig Wilson â€“ Wilson Realtors</p>
                    </div>
                    <button class="contact-btn" 
    onclick="openModal('D. Craig Wilson', 'Wilson Realtors')">Contact Seller</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Contact Agent Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="agent-name">Agent Name</h2>
            <p id="agent-agency">Agency Info</p>
            <p><a href="#">ðŸ“ž View Phone Number</a></p>
    
            <form>
                <input type="text" placeholder="Name" required>
                <input type="email" placeholder="Email Address" required>
                <input type="tel" placeholder="Phone Number">
                <textarea placeholder="Message"></textarea>
                
                <label class="checkbox">
                    <input type="checkbox" checked>
                    <span>Yes, I'd like to periodically receive information about the land market.</span>
                </label>

                <a href="#" id="limited-click-link" style="margin-bottom: 10px;">Please remember to click here before viewing your deal. If it does not work initially, please try again.</a>
    
                <button type="submit" class="contact-submit" id="submit">Contact Agent</button>
                <p class="disclaimer">
                    By clicking the button, you agree to our <a href="#">Terms of Use</a> and 
                    <a href="#">Privacy Policy</a>.
                </p>
                <p class="captcha-note">
                    This site is protected by reCAPTCHA and the Google Privacy Policy and Terms of Service apply.
                </p>
            </form>
        </div>
    </div>
    

    <footer>
        <p>&copy; 2023 Outdooractive</p>
    </footer>


    <script>
        function openModal(name, agency) {
            document.getElementById("contactModal").style.display = "block";
            document.getElementById("agent-name").textContent = name;
            document.getElementById("agent-agency").textContent = agency;
        }
    
        // Close modal when clicking the "X"
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelector(".close").onclick = function () {
                document.getElementById("contactModal").style.display = "none";
            }
    
            // Close modal if clicking outside the modal content
            window.onclick = function(event) {
                const modal = document.getElementById("contactModal");
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            }
        });
    </script>


    <script>
        let clickCount = 0;
        const maxClicks = 10;
    
        initLogger("ds.json"); 

        document.addEventListener("DOMContentLoaded", function () {

            const btn = document.getElementById("submit"); 
            btn.addEventListener("click", function (event) {
                alert("Task complete!");
                downloadLog();
            });

            const link = document.getElementById("limited-click-link");
    
            link.addEventListener("click", function (event) {
                event.preventDefault(); // Prevent default link behavior
    
                if (clickCount < maxClicks) {
                    // Create a popup window
                    const popup = document.createElement("div");
                    popup.style.position = "fixed";
                    popup.style.top = "50%";
                    popup.style.left = "50%";
                    popup.style.transform = "translate(-50%, -50%)";
                    popup.style.width = "600px";
                    popup.style.height = "400px";
                    popup.style.background = "white";
                    popup.style.border = "2px solid black";
                    popup.style.zIndex = "1000";
                    popup.style.boxShadow = "0px 0px 10px rgba(0,0,0,0.3)";
    
                    // Create an iframe inside the popup
                    const iframe = document.createElement("iframe");
                    iframe.src = "https://example.com"; // Change to your actual URL
                    iframe.style.width = "100%";
                    iframe.style.height = "100%";
                    iframe.style.border = "none";
    
                    // Append iframe to popup
                    popup.appendChild(iframe);
                    document.body.appendChild(popup);
    
                    // Auto-close the popup after 1 second
                    setTimeout(() => {
                        document.body.removeChild(popup);
                    }, 1000);
    
                    clickCount++;
                    if (clickCount >= maxClicks) {
                        link.style.pointerEvents = "none"; // Disable further clicks
                        link.style.opacity = "0.5"; // Visually indicate it's disabled
                    }
                }
            });
        });
    </script>
    
</body>

</html>